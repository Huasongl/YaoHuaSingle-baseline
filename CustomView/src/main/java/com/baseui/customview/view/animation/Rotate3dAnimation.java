package com.baseui.customview.view.animation;import android.graphics.Camera;import android.graphics.Matrix;import android.view.animation.Animation;import android.view.animation.Transformation;public class Rotate3dAnimation extends Animation {    private final float mFromDegrees;    private final float mEndDegree;    private float mCenterX,mCenterY;    private Camera mCamera;    private float mDepthZ = 400;    private final boolean mReverse;    public Rotate3dAnimation(float fromDegree, float endDegrees, boolean reverse){        this.mFromDegrees = fromDegree;        this.mEndDegree = endDegrees;        this.mReverse = reverse;    }    @Override    public void initialize(int width, int height, int parentWidth, int parentHeight) {        super.initialize(width, height, parentWidth, parentHeight);        mCenterX = width/2;        mCenterY = width/2;        mCamera = new Camera();    }    @Override    protected void applyTransformation(float interpolatedTime, Transformation t) {        float degrees = mFromDegrees + ((mEndDegree - mFromDegrees) * interpolatedTime);        mCamera.save();        float z;        if(mReverse){            z = mDepthZ * interpolatedTime;        } else {            z = mDepthZ * (1.0f - interpolatedTime);        }        mCamera.translate(0.0f,0.0f,z);        final Matrix matrix = t.getMatrix();        mCamera.rotateY(degrees);        mCamera.getMatrix(matrix);        mCamera.restore();        matrix.preTranslate(-mCenterX,-mCenterY);        matrix.postTranslate(mCenterX,mCenterY);        super.applyTransformation(interpolatedTime, t);    }}